[Settings]
# Above line is REQUIRED, do not edit!

### Configuration file for REDPy ###

# Most important settings are at the top
# Settings not explicitly defined will be assigned a default value

### RUN PARAMETERS ###

# Describe the run
title=REDPy Catalog
groupDesc=Default Test Run

# groupName may not have spaces, corresponds to folder where outputs are stored
groupName=default

# filename must end in .h5
filename=redpytable.h5

# Amount of days to keep orphans in the queue based on size before permanent deletion
minorph=0.05
maxorph=7.

# nsec should be the maximum amount of time you want to process at once (in seconds)
# This depends on how much data your computer can hold in memory
nsec=3600


### STATION PARAMETERS ###

# Number of stations
nsta=8
# List of stations in order of storage preference, NO SPACES
station=SEP,YEL,HSR,SHW,EDM,STD,JUN,SOS
# List of channels, etc., one per station
channel=EHZ,EHZ,EHZ,EHZ,EHZ,EHZ,EHZ,EHZ
network=UW,UW,UW,UW,UW,UW,UW,UW
location=--,--,--,--,--,--,--,--
# If so, how many stations need to be triggered to count?
nstaC=5

# Sampling rate to store all waveforms at (will resample if data do not match)
samprate=100.

# Bandpass filter
fmin=1.
fmax=10.

# Frequency Index windows (should be within bounds of filtering)
filomin=1.
filomax=2.5
fiupmin=5.
fiupmax=10.

# Server may also be a waveserver (e.g., mazama.ess.washington.edu) or SAC
# If using SAC, please be sure your headers match what you use for the SCNL above!!
server=IRIS
# Port is only necessary if using a waveserver
port=16017
# If using SAC files, define the path to the directory where they exist, ending in /
sacdir='./'


# STALTA trigger settings
lwin=8.
swin=0.7
# Higher trigon will reduce number of triggers, but may miss small events
trigon=3.
# trigoff should be slightly less than trigon
trigoff=2.


### CROSS-CORRELATION PARAMETERS ###

# Cross-correlation window length (in samples, 2^n is best)
winlen=1024
# Minimum correlation coefficient to be considered a repeater
cmin=0.7
# Number of stations this value must be exceeded on to be counted
ncor=4


### PLOTTING PARAMETERS ###

# Station number to use for plotting cores & amplitudes, beginning at 0, in station list
printsta=2

# Minimum number of members within a family needed to appear on the timeline plot
minplot=5
# Width (in days) of bins for 'active' subplot (default is 1 day)
dybin=1
# Width (in hours) of bins for 'active' subplot on 'recent' timeline (default is 1 hour)
hrbin=1.
# Number of days prior to last repeater to show on 'recent' timeline (default is 2 weeks)
recplot=14. 


### SPIKE REMOVAL ###

# Kurtosis of waveform; ~80-100 is appropriate for 5 s window, ~130 for 15 s,
# and ~200 for 25 s, updated testing suggests these values may be too high?
kurtwin=5.
kurtmax=80.
# Kurtosis of amplitude spectrum to eliminate calibration pulses with unnaturally harmonic
# signals, be careful not to set too low or you could eliminate real harmonic events
kurtfmax=150.
# Maximum ratio of outliers to total number of datapoints in trace
oratiomax=0.06

### TELESEISM REMOVAL ###

# Teleseisms are filtered based on frequency index (uses above settings)
# Some tests with the default windows suggest that using a cutoff of -1.0 on
# more than one station should catch a decent number of teleseisms without throwing
# out too many local LF events

# Frequency index minimum threshold (above this is ok)
telefi = -1.
# Number of stations allowed to pass that exceed threshold
teleok = 1
